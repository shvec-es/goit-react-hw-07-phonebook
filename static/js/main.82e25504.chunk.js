(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{50:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var c=n(12),r=n.n(c),a=n(3),o=(n(50),n(51),n(22)),i=n(4),u=n(11),s=n(2),d=n(6),l=n(10),b=n.n(l),j=n(23),p=n(16),O=n.n(p);O.a.defaults.baseURL="https://61e6956cce3a2d0017359297.mockapi.io";var f,h,x,m,g,v,y,w,C,F,k,A,S,z,T,D,B=Object(i.c)("contacts/fetchContacts",function(){var e=Object(j.a)(b.a.mark((function e(t,n){var c,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.rejectWithValue,e.prev=1,e.next=4,O.a.get("/contacts");case 4:return r=e.sent,e.abrupt("return",r.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",c(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),N=Object(i.c)("contacts/addContact",function(){var e=Object(j.a)(b.a.mark((function e(t,n){var c,r,a,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.name,r=t.phone,a=n.rejectWithValue,e.prev=2,e.next=5,O.a.post("/contacts",{name:c,phone:r});case 5:return o=e.sent,e.abrupt("return",o.data);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",a(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}()),J=Object(i.c)("contacts/deleteContact",function(){var e=Object(j.a)(b.a.mark((function e(t,n){var c,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.rejectWithValue,e.prev=1,e.next=4,O.a.delete("/contacts/".concat(t));case 4:return r=e.sent,e.abrupt("return",r.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",c(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),L=Object(i.b)("contacts/ChangeFilter"),R=Object(i.d)([],(f={},Object(s.a)(f,B.fulfilled,(function(e,t){return t.payload})),Object(s.a)(f,N.fulfilled,(function(e,t){return[t.payload].concat(Object(o.a)(e))})),Object(s.a)(f,J.fulfilled,(function(e,t){var n=t.payload;return e.filter((function(e){return e.id!==n.id}))})),f)),V=Object(i.d)("",Object(s.a)({},L,(function(e,t){return t.payload}))),W=Object(i.d)(!1,(h={},Object(s.a)(h,B.pending,(function(){return!0})),Object(s.a)(h,B.fulfilled,(function(){return!1})),Object(s.a)(h,B.rejected,(function(){return!1})),h)),Z=Object(i.d)(!1,(x={},Object(s.a)(x,N.pending,(function(){return!0})),Object(s.a)(x,N.fulfilled,(function(){return!1})),Object(s.a)(x,N.rejected,(function(){return!1})),x)),q=Object(i.d)(!1,(m={},Object(s.a)(m,J.pending,(function(){return!0})),Object(s.a)(m,J.fulfilled,(function(){return!1})),Object(s.a)(m,J.rejected,(function(){return!1})),m)),E=Object(i.d)(null,(g={},Object(s.a)(g,B.rejected,(function(e,t){return t.payload})),Object(s.a)(g,B.pending,(function(){return null})),Object(s.a)(g,N.rejected,(function(e,t){return t.payload})),Object(s.a)(g,N.pending,(function(){return null})),Object(s.a)(g,J.rejected,(function(e,t){return t.payload})),Object(s.a)(g,J.pending,(function(){return null})),g)),P=Object(d.b)({items:R,filter:V,loadingForFetch:W,loadingForAdd:Z,loadingForDelete:q,error:E}),I=Object(i.a)({reducer:{contacts:P},middleware:function(e){return Object(o.a)(e({serializableCheck:{ignoredActions:[u.a,u.f,u.b,u.c,u.d,u.e]}}))},devTools:!1}),M=n(0),U=n(9),Y=(n(70),n(13)),$=n(7),G=n(8),H=G.a.div(v||(v=Object($.a)(["\n  width: 450px;\n  margin: 25px auto 0;\n  padding: 15px;\n  background-color: #fbfcfc;\n  border-radius: 3px;\n"]))),K=G.a.h2(y||(y=Object($.a)(["\n  font-size: 1.5em;\n  text-align: center;\n  color: DarkCyan;\n"]))),Q=G.a.form(w||(w=Object($.a)(["\n  margin: 0 auto;\n  display: flex;\n  flex-direction: column;\n  width: 250px;\n"]))),X=G.a.label(C||(C=Object($.a)(["\n  color: Teal;\n  font-size: 1em;\n"]))),_=G.a.input(F||(F=Object($.a)(["\n  width: 220px;\n  padding: 0.5em;\n  margin: 0.5em;\n  color: Teal;\n  background: AliceBlue;\n  border: none;\n  border-radius: 3px;\n\n  &::placeholder {\n    color: Teal;\n    opacity: 0.3;\n  }\n"]))),ee=G.a.button(k||(k=Object($.a)(["\n  max-width: 150px;\n  background: DarkCyan;\n  color: white;\n\n  font-size: 1em;\n  margin: 1em auto;\n  padding: 0.25em 1em;\n  border: 2px solid DarkCyan;\n  border-radius: 3px;\n  cursor: pointer;\n\n  &:hover,\n  &:focus {\n    background: white;\n    color: DarkCyan;\n  }\n"]))),te=Object(G.a)(ee)(A||(A=Object($.a)(["\n  margin: 0;\n"]))),ne=G.a.p(S||(S=Object($.a)(["\n  color: Teal;\n  font-size: 1em;\n"]))),ce=Object(G.a)(ne)(z||(z=Object($.a)(["\n  margin-left: 30px;\n"]))),re=Object(G.a)(_)(T||(T=Object($.a)(["\n  margin-left: 25px;\n"]))),ae=G.a.table(D||(D=Object($.a)(["\n  width: 420px;\n  margin-top: 10px;\n  padding: 15px;\n  // border-radius: 3px;\n"]))),oe=n(25),ie=n(19),ue=function(e){return e.contacts.filter},se=function(e){return e.contacts.loadingForFetch},de=function(e){return e.contacts.loadingForAdd},le=function(e){return e.contacts.loadingForDelete},be=function(e){return e.contacts.error},je=Object(ie.a)([function(e){return e.contacts.items},ue],(function(e,t){return e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))})),pe=n(1);var Oe=function(){var e=Object(M.useState)(""),t=Object(oe.a)(e,2),n=t[0],c=t[1],r=Object(M.useState)(""),o=Object(oe.a)(r,2),i=o[0],u=o[1],s=Object(a.c)(je),d=Object(a.c)(de),l=Object(a.b)(),b=function(e){var t=e.target,n=t.name,r=t.value;switch(n){case"name":c(r);break;case"phone":u(r);break;default:return}},j=function(){c(""),u("")};return Object(pe.jsxs)(Q,{onSubmit:function(e){if(e.preventDefault(),s.find((function(e){return e.name===n})))return j(),U.b.warning("".concat(n," is already in contacts!"));l(N({name:n,phone:i})),U.b.success("Contact added successfully!"),j()},children:[Object(pe.jsxs)(X,{children:["Name",Object(pe.jsx)("br",{}),Object(pe.jsx)(_,{type:"text",name:"name",value:n,placeholder:"Name Surname",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",onChange:b,required:!0})]}),Object(pe.jsxs)(X,{children:["Number",Object(pe.jsx)("br",{}),Object(pe.jsx)(_,{type:"tel",name:"phone",value:i,placeholder:"000-000-0000",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",onChange:b,required:!0})]}),Object(pe.jsxs)(ee,{type:"submit",children:[d&&Object(pe.jsx)(Y.TailSpin,{color:"#00BFFF",height:"14",width:"14",wrapperStyle:{display:"inline",marginRight:"10px"}}),"Add contact"]})]})},fe=function(){var e=Object(a.c)(ue),t=Object(a.b)();return Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsx)(ce,{children:"Find contacts by name"}),Object(pe.jsx)(re,{type:"text",name:"filter",value:e,onChange:function(e){return t(L(e.target.value))},autoComplete:"off"})]})},he=n(40),xe=function(e){var t=e.id,n=e.name,c=e.phone,r=Object(a.c)(le),o=Object(a.b)();return Object(pe.jsx)(pe.Fragment,{children:Object(pe.jsxs)("tr",{children:[Object(pe.jsx)("td",{children:Object(pe.jsxs)(ne,{children:[n,":"]})}),Object(pe.jsx)("td",{children:Object(pe.jsx)(ne,{children:c})}),Object(pe.jsx)("td",{children:Object(pe.jsxs)(te,{type:"button",onClick:function(){return function(e){o(J(e)),U.b.success("Contact deleted successfully!")}(t)},children:[r&&Object(pe.jsx)(Y.TailSpin,{color:"#00BFFF",height:"14",width:"14",wrapperStyle:{display:"inline",marginRight:"10px"}}),"Delete"]})})]})})},me=function(){var e=Object(a.c)(je);return Object(pe.jsx)(ae,{children:Object(pe.jsx)("tbody",{children:e.map((function(e){return Object(pe.jsx)(xe,Object(he.a)({},e),e.id)}))})})};var ge=function(){var e=Object(a.c)(je),t=Object(a.c)(se),n=Object(a.c)(be),c=Object(a.b)();return Object(M.useEffect)((function(){c(B())}),[c]),Object(pe.jsxs)(pe.Fragment,{children:[n&&U.b.error(n),t?Object(pe.jsx)(Y.TailSpin,{color:"#00BFFF",height:"50",width:"50",wrapperStyle:{display:"flex",justifyContent:"center",marginTop:"50px"}}):Object(pe.jsxs)(H,{children:[Object(pe.jsx)(U.a,{autoClose:2e3,theme:"colored"}),Object(pe.jsxs)("div",{children:[Object(pe.jsx)(K,{children:"Phonebook"}),Object(pe.jsx)(Oe,{})]}),e.length>0?Object(pe.jsxs)("div",{children:[Object(pe.jsx)(K,{children:"Contacts"}),Object(pe.jsx)(fe,{}),Object(pe.jsx)(me,{})]}):Object(pe.jsx)(K,{children:"You don't have contacts"})]})]})};r.a.render(Object(pe.jsx)(a.a,{store:I,children:Object(pe.jsx)(ge,{})}),document.getElementById("root"))}},[[89,1,2]]]);
//# sourceMappingURL=main.82e25504.chunk.js.map